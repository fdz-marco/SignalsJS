/* Repository: https://github.com/fdz-marco/SignalsJS minified using https://minify-js.com/ */
const Signals=(()=>{let t=null,e=new Set,n=!1;function r(r,s={}){const{persist:o=!1,key:l=null,history:c=!1,historySize:a=100}=s;let f=r;if(o&&l){const t=localStorage.getItem(l);if(null!=t)try{f=JSON.parse(t)}catch(t){console.error(`Error loading persisted value for ${l}:`,t)}}const d=new Set,h=c?new u(a):null;function p(r){if(0===arguments.length)return t&&(d.add(t),t.deps.add(p)),f;if(r!==f){const t=f;if(f=r,o&&l)try{localStorage.setItem(l,JSON.stringify(f))}catch(t){console.error(`Error persisting value for ${l}:`,t)}c&&!p._isUndoRedo&&h.push(f),n?e.add((()=>i(d,t))):i(d,t)}}return c&&h.push(f),p.observers=d,p.peek=()=>f,c&&(p.undo=()=>{const t=h.undo();null!=t&&(p._isUndoRedo=!0,p(t),p._isUndoRedo=!1)},p.redo=()=>{const t=h.redo();null!=t&&(p._isUndoRedo=!0,p(t),p._isUndoRedo=!1)}),p}function s(e){function n(r){var s;(s=n).deps.forEach((t=>{t.observers.delete(s)})),s.deps.clear(),t=n,n.deps=new Set;try{e(r)}finally{t=null}}return n.deps=new Set,n(),n}function o(t){const e=r(void 0);return s((()=>e(t()))),e}function i(t,e){Array.from(t).forEach((t=>t(e)))}class u{constructor(t=100){this.past=[],this.future=[],this.maxSize=t}push(t){const e=JSON.parse(JSON.stringify(t));this.past.push(e),this.past.length>this.maxSize&&this.past.shift(),this.future=[]}undo(){if(this.past.length<=1)return null;const t=this.past.pop();return this.future.push(t),this.past[this.past.length-1]}redo(){if(0===this.future.length)return null;const t=this.future.pop();return this.past.push(t),t}}return{ref:r,computed:o,effect:s,batch:function(t){if(n)return t();n=!0;try{t()}finally{n=!1;const t=Array.from(e);e.clear(),t.forEach((t=>t()))}},watch:function(t,e){s((()=>e(t())))},derive:function(...t){const e=t.pop(),n=t;return o((()=>e(...n.map((t=>t())))))}}})();"undefined"!=typeof module&&module.exports&&(module.exports=Signals);